{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","PersonForm","props","newName","newNumber","handleNameChange","handleNumberChange","addName","type","onClick","Person","person","deleteName","className","key","name","number","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","setMessage","results","toLowerCase","includes","toLocaleLowerCase","useEffect","personService","initialPersons","event","target","preventDefault","found","find","window","confirm","personObj","map","setTimeout","catch","error","console","log","JSON","stringify","returnedPerson","concat","i","item","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ebdc8dd6.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filter, handleFilterChange}) => {\r\n  return (\r\n    <div>\r\n      <div>\r\n        filter shown with <input value={filter} onChange={handleFilterChange} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n  const newName = props.newName\r\n  const newNumber = props.newNumber\r\n  const handleNameChange = props.handleNameChange\r\n  const handleNumberChange = props.handleNumberChange\r\n  const addName = props.addName\r\n\r\n  return (\r\n    <div>\r\n      <form>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n          number: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\" onClick={addName}>add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = (props) => {\r\n    const person = props.person\r\n    const deleteName = props.deleteName\r\n    return (\r\n        <li className='person' key={person.name}>\r\n            {person.name} {person.number}\r\n            <button value={person.id} onClick={deleteName}>delete</button>\r\n        </li>\r\n    )\r\n}\r\n\r\n\r\nexport default Person","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => {\r\n      return response.data\r\n    })\r\n  }\r\n\r\n  const deleteName = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\nexport default { getAll, create, update, deleteName }","import React from 'react'\r\n\r\nconst Notification = ({ message}) => {\r\n    if (message[0] === null) {\r\n        return null\r\n    }\r\n    const className = message[1] ? \"errorMessage\" : \"notification\"\r\n    return (\r\n        <div className={className}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Person from './components/Person'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [filter, setFilter] = useState('')\r\n  const [message, setMessage] = useState([null, false])\r\n  const results = !filter\r\n    ? persons\r\n    : persons.filter(person =>\r\n      person.name.toLowerCase().includes(filter.toLocaleLowerCase())\r\n    );\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n    const found = persons.find(person => person.name.toLowerCase() === newName.toLowerCase())\r\n    if (!found) {\r\n      const personObj = {\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n      console.log(`sent person:`)\r\n      console.log(JSON.stringify(personObj))\r\n      \r\n      personService\r\n        .create(personObj)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setMessage([`Added ${returnedPerson.name}`, false])\r\n          setTimeout(() => { setMessage([null, false]) }, 5000)\r\n        })\r\n    }\r\n    else {\r\n      if (window.confirm(`${found.name} is already added to phonebook, replace the old number with a new one?`)) {\r\n        const personObj = { ...found, number: newNumber }\r\n        const id = found.id\r\n        personService\r\n          .update(id, personObj)\r\n          .then(response => {\r\n            // console.log('response', response)\r\n            setPersons(persons.map(person => person.id !== id ? person : response))\r\n            setMessage([`${response.name} updated`, false])\r\n            setTimeout(() => { setMessage([null, false]) }, 5000)\r\n          })\r\n          .catch(error => {\r\n            setMessage([`Information of ${found.name} has already been removed from server`, true])\r\n            setTimeout(() => { setMessage([null, false]) }, 5000)\r\n          })\r\n      }\r\n    }\r\n  }\r\n\r\n  const deleteName = (person) => {\r\n    if (window.confirm(`Delete ${person.name}?`)) {\r\n      const id = person.id\r\n      personService\r\n        .deleteName(id)\r\n        .then(returnedPerson => {\r\n          // console.log(returnedPerson)\r\n          setPersons(persons.filter(item => item.id !== id))\r\n        })\r\n        .catch(error => {\r\n          setMessage([`Information of ${person.name} has already been removed from server`, true])\r\n          setTimeout(() => { setMessage([null, false]) }, 5000)\r\n        })\r\n    }\r\n  }\r\n\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} />\r\n      <Filter\r\n        filter={filter}\r\n        handleFilterChange={handleFilterChange}\r\n      />\r\n\r\n      <h3>Add a new</h3>\r\n      <PersonForm\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange}\r\n        addName={addName}\r\n      />\r\n\r\n      <h3>Numbers</h3>\r\n      <ul>\r\n        {results.map((person, i) =>\r\n          <Person\r\n            key={i}\r\n            person={person}\r\n            deleteName={() => deleteName(person)}\r\n          />\r\n        )}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}